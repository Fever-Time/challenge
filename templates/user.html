<!DOCTYPE html>
<html lang="en">
<head>
    <!-- meta -->
    {% include "include/header-meta.html" %}

    <!-- title -->
    <title>User</title>

    {% include "include/header-css.html" %}

    <style>
        .table-body-row {
            cursor: pointer;
        }

        .table-body-row:hover {
            background-color: #F28123;
        }

        #delete-user-btn {
            background-color: crimson;
            margin-left: 10px;
        }

        #delete-user-btn:hover {
            color: crimson;
            background-color: black;
        }

        #logout-user-btn {
            background-color: #28a745;
            margin-right: 10px;
        }

        #logout-user-btn:hover {
            color: #28a745;
            background-color: black;
        }
    </style>

    <script>
        let delete_cookie = function (name) {
            document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:01 GMT;';
        };

        function sign_out() {
            delete_cookie('fever-time')
            alert('로그아웃되었습니다.')
            location.href = '/'
        }

        function onClickChallenge(challengeId) {
            location.href = `/challenge/${challengeId}`
        }
    </script>
</head>
<body>
<!--PreLoader start -->
{% include 'include/preloader.html' %}
<!--PreLoader end-->

<!-- header -->
<div class="top-header-area" id="sticker">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-sm-12 text-center">
                <div class="main-menu-wrap">
                    <!-- logo -->
                    <div class="site-logo">
                        <a href="{{ '/' }}">
                            <img src="{{ url_for('static', filename='assets/img/logo.png') }}" alt="">
                        </a>
                    </div>
                    <!-- logo -->
                </div>
            </div>
        </div>
    </div>
</div>
<!-- end header -->

<!-- search area start-->
{% include 'include/search.html' %}
<!-- search area end -->

<!-- breadcrumb-section start -->
{% include 'include/breadcrumb-section.html' %}
<!-- breadcrumb section end -->

<!-- cart -->
<div class="cart-section mt-150 mb-150">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-md-12">
                <div class="cart-table-wrap">
                    <table class="cart-table">
                        <thead class="cart-table-head">
                        <tr class="table-head-row">
                            <th class="product-image">Challenge Image</th>
                            <th class="product-name">Challenge Title</th>
                            <th class="product-price">Challenge Period</th>
                            {#                            <th class="product-total">Challenge Day</th>#}
                        </tr>
                        </thead>
                        <tbody>
                        {% for challenge in challenges %}
                            <tr class="table-body-row" onclick="onClickChallenge('{{ challenge._id }}')">

                                <td class="product-image">
                                    <img src="{{ url_for('static', filename='assets/img/challenge/'+challenge.challenge_img) }}"
                                         alt="">
                                </td>
                                <td class="product-name">{{ challenge.challenge_title }}</td>
                                <td class="product-price">
                                    <i class="far fa-calendar-alt"></i> {{ challenge.challenge_startTime +' ~ '+ challenge.challenge_endTime }}
                                </td>
                                {#                                <td class="product-total">50%</td>#}
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="col-lg-4">
                <div class="total-section">
                    <table class="total-table">
                        <thead class="total-table-head">
                        <tr class="table-total-row">
                            <th>구분</th>
                            <th>결과</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr class="total-data">
                            <td><strong>진행 챌린지</strong></td>
                            <td>{{ challenges|length }}</td>
                        </tr>
                        <tr class="total-data">
                            <td><strong>종료 챌린지</strong></td>
                            <td>0</td>
                        </tr>
                        {#                        <tr class="total-data">#}
                        {#                            <td><strong>전체 달성률</strong></td>#}
                        {#                            <td>99%</td>#}
                        {#                        </tr>#}
                        </tbody>
                    </table>
                    <div class="cart-buttons">
                        <a href="#" id="logout-user-btn" class="boxed-btn" onclick="sign_out()">로그아웃</a>
                        <a href="#" class="boxed-btn">비밀번호 수정</a>
                        <a href="#" id="delete-user-btn" class="boxed-btn black">회원탈퇴</a>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- end cart -->

<!-- copyright start -->
{% include 'include/copyright.html' %}
<!-- copyright end -->

<!-- bootstrap js start -->
{% include 'include/footer-js.html' %}
<!-- bootstrap js end -->
</body>
</html>